webpackJsonp([2],{a3Yh:function(e,t,o){"use strict";t.__esModule=!0;var a,r=o("liLe"),l=(a=r)&&a.__esModule?a:{default:a};t.default=function(e,t,o){return t in e?(0,l.default)(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}},gGjR:function(e,t,o){o("vdXL");var a=o("DH3n").Object;e.exports=function(e,t,o){return a.defineProperty(e,t,o)}},liLe:function(e,t,o){e.exports={default:o("gGjR"),__esModule:!0}},"mDt/":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o("a3Yh"),r=o.n(a),l=o("/o5o"),n=o("cMGX"),i={components:{modal:l.a,pagination:n.a},data:function(){return r()({total:0,pageCount:1,currentPage:1,pageSize:10,loadingFlag:!1,addModalFlag:!1,editModalFlag:!1,removeModalFlag:!1,tableData:[],typeId:"",typeForm:{orderType:"",orderTypeDes:""},TypeEditForm:{orderType:"",orderTypeDes:""},ruleForm:{orderType:"",orderTypeDes:""},rules:{orderType:[{required:!0,message:"请输入类型名称",trigger:"blur"}]},formLabelWidth:"120px"},"rules",{clientType:[{validator:function(e,t,o){""===t?o(new Error("类型不能为空")):o()},trigger:"blur"}]})},watch:{},created:function(){this.loadData()},methods:{clickpageNum:function(e){console.log("pageCount  "+e)},handleSelectionChange:function(){},modalChange:function(){this.addModalFlag=!1,this.removeModalFlag=!1,this.editModalFlag=!1},showEditModal:function(e,t){this.editModalFlag=!0,this.TypeEditForm.orderType=t.orderType,this.TypeEditForm.orderTypeDes=t.orderTypeDes,this.typeId=t._id},showRemoveModal:function(e,t){this.removeModalFlag=!0,this.typeId=t._id},loadData:function(){var e=this;this.loadingFlag=!0,this.$ajax.get("/order/type").then(function(t){e.loadingFlag=!1;var o=t.data.result;e.tableData=o})},addType:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;""!=t.typeForm.orderType&&t.$ajax.post("/order/type/add",{orderType:t.typeForm.orderType,orderTypeDes:t.typeForm.orderTypeDes}).then(function(e){"1"===e.data.status?(t.$message({message:e.data.msg,type:"success"}),t.loadData(),t.addModalFlag=!1,t.resetForm("typeForm")):t.$message.error(e.data.msg)})})},editClientType:function(){var e=this;this.$ajax.post("/order/type/update/"+this.typeId,this.TypeEditForm).then(function(t){"1"===t.data.status?(e.$message({message:"修改成功",type:"success"}),e.loadData(),e.editModalFlag=!1,e.resetForm("TypeEditForm")):e.$message.error(t.data.msg)})},handleDelete:function(){var e=this;this.$ajax.delete("/order/type/del/"+this.typeId).then(function(t){"1"===t.data.status?(e.$message({message:t.data.msg,type:"success"}),e.loadData(),e.removeModalFlag=!1):(e.$message.error(t.data.msg),e.removeModalFlag=!1)})},totalData:function(){var e=this;this.$ajax.get("/order/type/total").then(function(t){e.total=t.data.total})},resetForm:function(e){this.$refs[e].resetFields()}}},s={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-row",{staticClass:"source"},[o("el-col",{attrs:{span:12}},[o("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[o("el-breadcrumb-item",{attrs:{to:{path:"/admin"}}},[e._v("首页")]),e._v(" "),o("el-breadcrumb-item",[e._v("订单标签")])],1)],1),e._v(" "),o("el-col",{attrs:{span:1,offset:10}},[o("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){e.addModalFlag=!0}}},[e._v("添加")])],1)],1),e._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingFlag,expression:"loadingFlag"}],staticStyle:{width:"100%"},attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading",data:e.tableData,stripe:""},on:{"selection-change":e.handleSelectionChange}},[e._v(">\n    "),o("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),o("el-table-column",{attrs:{prop:"orderType",label:"订单类型"}}),e._v(" "),o("el-table-column",{attrs:{prop:"orderTypeDes",label:"类型描述"}}),e._v(" "),o("el-table-column",{attrs:{label:"操作",width:"400"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(o){e.showEditModal(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),o("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(o){e.showRemoveModal(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),o("pagination",{attrs:{total:e.total,pageCount:e.pageCount,currentPage:e.currentPage,pageSize:e.pageSize},on:{clickpageNum:e.clickpageNum}}),e._v(" "),o("modal",{attrs:{dialogFormVisible:e.addModalFlag,title:"新增"},on:{modalToggle:e.modalChange}},[o("el-form",{ref:"typeForm",attrs:{slot:"content",model:e.typeForm,rules:e.rules,"label-width":e.formLabelWidth},slot:"content"},[o("el-form-item",{attrs:{label:"订单类型",prop:"orderType"}},[o("el-input",{model:{value:e.typeForm.orderType,callback:function(t){e.$set(e.typeForm,"orderType",t)},expression:"typeForm.orderType"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"类型描述",prop:"orderTypeDes"}},[o("el-input",{model:{value:e.typeForm.orderTypeDes,callback:function(t){e.$set(e.typeForm,"orderTypeDes",t)},expression:"typeForm.orderTypeDes"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"danger","native-type":"reset"},on:{click:function(t){e.resetForm("typeForm")}}},[e._v("重置")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addType("typeForm")}}},[e._v("保存")])],1)],1),e._v(" "),o("modal",{attrs:{dialogFormVisible:e.editModalFlag,title:"编辑"},on:{modalToggle:e.modalChange}},[o("el-form",{ref:"TypeEditForm",attrs:{slot:"content",model:e.TypeEditForm,"label-width":e.formLabelWidth},slot:"content"},[o("el-form-item",{attrs:{label:"订单类型",prop:"orderType"}},[o("el-input",{model:{value:e.TypeEditForm.orderType,callback:function(t){e.$set(e.TypeEditForm,"orderType",t)},expression:"TypeEditForm.orderType"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"类型描述",prop:"orderTypeDes"}},[o("el-input",{model:{value:e.TypeEditForm.orderTypeDes,callback:function(t){e.$set(e.TypeEditForm,"orderTypeDes",t)},expression:"TypeEditForm.orderTypeDes"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"danger","native-type":"reset"},on:{click:function(t){e.resetForm("TypeEditForm")}}},[e._v("重置")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.editClientType}},[e._v("保存")])],1)],1),e._v(" "),o("modal",{attrs:{dialogFormVisible:e.removeModalFlag},on:{modalToggle:e.modalChange}},[o("p",{staticStyle:{"text-align":"center","font-size":"20px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              是否删除用户？\n          ")]),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:e.modalChange}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"danger"},on:{click:e.handleDelete}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]},d=o("46Yf")(i,s,!1,null,null,null);t.default=d.exports},vdXL:function(e,t,o){var a=o("uSC2");a(a.S+a.F*!o("5cPm"),"Object",{defineProperty:o("FIRb").f})}});
//# sourceMappingURL=2.ff2158edafd4c9890240.js.map