webpackJsonp([16],{G4wQ:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=e("/o5o"),l=e("cMGX"),n={components:{modal:o.a,pagination:l.a},data:function(){return{loadingFlag:!1,addModalFlag:!1,mofiyModalFlag:!1,removeModalFlag:!1,total:0,pageCount:1,currentPage:1,pageSize:10,tableData:[],addPayForm:{paymentAccount:"",paymentName:""},mofiyPayForm:{paymentAccount:"",paymentName:""},rules:{paymentAccount:[{validator:function(a,t,e){""===t?e(new Error("帐号不能为空")):e()},trigger:"blur"}],paymentName:[{validator:function(a,t,e){""===t?e(new Error("帐号名称不能为空")):e()},trigger:"blur"}]},payId:"",formLabelWidth:"120px"}},created:function(){this.loadingData()},methods:{clickpageNum:function(){},addModal:function(){this.addModalFlag=!0},addPay:function(){var a=this;this.$ajax.post("/pay/add",{paymentAccount:this.addPayForm.paymentAccount,paymentName:this.addPayForm.paymentName}).then(function(t){"1"===t.data.status?(a.$message({message:t.data.msg,type:"success"}),a.loadingData(),a.addModalFlag=!1,a.resetForm("addPayForm")):a.$message.error(t.data.msg)})},mofiyPay:function(){var a=this;this.$ajax.post("/pay/modify/"+this.payId,this.mofiyPayForm).then(function(t){"1"===t.data.status&&(a.$message({message:t.data.msg,type:"success"}),a.loadingData(),a.mofiyModalFlag=!1),a.mofiyModalFlag=!1,a.loadingData(),a.mofiyPayForm.paymentAccount="",a.mofiyPayForm.paymentName=""})},loadingData:function(){var a=this;this.loadingFlag=!0,this.$ajax.get("/pay/").then(function(t){a.loadingFlag=!1;var e=t.data.result;a.tableData=e}),this.totalData()},totalData:function(){var a=this;this.$ajax.get("/pay/total").then(function(t){a.total=t.data.total,console.log("payTotal   "+a.total)})},showEditModal:function(a,t){this.mofiyModalFlag=!0,this.payId=t._id,this.showPay(t)},showPay:function(a){console.log("payRow  "+a),this.mofiyPayForm.paymentAccount=a.paymentAccount,this.mofiyPayForm.paymentName=a.paymentName},showRemoveModal:function(a,t){this.removeModalFlag=!0,this.payId=t._id},handleDelete:function(){var a=this;this.$ajax.delete("/pay/del/"+this.payId,{params:{id:this.tempId}}).then(function(t){"1"===t.data.status?(a.$message({message:t.data.msg,type:"success"}),a.loadingData(),a.removeModalFlag=!1):(a.$message.error(t.data.msg),a.removeModalFlag=!1)})},modalChange:function(){this.addModalFlag=!1,this.mofiyModalFlag=!1,this.removeModalFlag=!1},handleSelectionChange:function(){},resetForm:function(a){this.$refs[a].resetFields()}}},i={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("el-row",{staticClass:"source"},[e("el-col",{attrs:{span:12}},[e("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[e("el-breadcrumb-item",{attrs:{to:{path:"/admin"}}},[a._v("首页")]),a._v(" "),e("el-breadcrumb-item",[a._v("付款方式")])],1)],1),a._v(" "),e("el-col",{attrs:{span:1,offset:10}},[e("el-button",{attrs:{type:"success",size:"mini"},on:{click:a.addModal}},[a._v("添加")])],1)],1),a._v(" "),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:a.loadingFlag,expression:"loadingFlag"}],staticStyle:{width:"100%"},attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading",data:a.tableData,stripe:""},on:{"selection-change":a.handleSelectionChange}},[a._v(">\n        "),e("el-table-column",{attrs:{type:"selection",width:"55"}}),a._v(" "),e("el-table-column",{attrs:{prop:"paymentAccount",label:"付款帐号"}}),a._v(" "),e("el-table-column",{attrs:{prop:"paymentName",label:"帐号名称"}}),a._v(" "),e("el-table-column",{attrs:{prop:"createdAt",label:"创建日期"}}),a._v(" "),e("el-table-column",{attrs:{label:"操作",width:"400"},scopedSlots:a._u([{key:"default",fn:function(t){return[e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){a.showEditModal(t.$index,t.row)}}},[a._v("编辑")]),a._v(" "),e("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(e){a.showRemoveModal(t.$index,t.row)}}},[a._v("删除")])]}}])})],1),a._v(" "),e("pagination",{attrs:{total:a.total,pageCount:a.pageCount,currentPage:a.currentPage,pageSize:a.pageSize},on:{clickpageNum:a.clickpageNum}}),a._v(" "),e("modal",{attrs:{dialogFormVisible:a.addModalFlag,title:"新增"},on:{modalToggle:a.modalChange}},[e("el-form",{ref:"addPayForm",attrs:{slot:"content",model:a.addPayForm,"label-width":a.formLabelWidth},slot:"content"},[e("el-form-item",{attrs:{label:"付款帐号",prop:"paymentAccount"}},[e("el-input",{model:{value:a.addPayForm.paymentAccount,callback:function(t){a.$set(a.addPayForm,"paymentAccount",t)},expression:"addPayForm.paymentAccount"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"帐户名称",prop:"paymentName"}},[e("el-input",{model:{value:a.addPayForm.paymentName,callback:function(t){a.$set(a.addPayForm,"paymentName",t)},expression:"addPayForm.paymentName"}})],1)],1),a._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"danger","native-type":"reset"}},[a._v("重置")]),a._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:a.addPay}},[a._v("保存")])],1)],1),a._v(" "),e("modal",{attrs:{dialogFormVisible:a.mofiyModalFlag,title:"修改"},on:{modalToggle:a.modalChange}},[e("el-form",{ref:"mofiyPayForm",attrs:{slot:"content",model:a.mofiyPayForm,"label-width":a.formLabelWidth},slot:"content"},[e("el-form-item",{attrs:{label:"付款帐号",prop:"paymentAccount"}},[e("el-input",{model:{value:a.mofiyPayForm.paymentAccount,callback:function(t){a.$set(a.mofiyPayForm,"paymentAccount",t)},expression:"mofiyPayForm.paymentAccount"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"帐户名称",prop:"paymentName"}},[e("el-input",{model:{value:a.mofiyPayForm.paymentName,callback:function(t){a.$set(a.mofiyPayForm,"paymentName",t)},expression:"mofiyPayForm.paymentName"}})],1)],1),a._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"danger","native-type":"reset"}},[a._v("重置")]),a._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:a.mofiyPay}},[a._v("保存")])],1)],1),a._v(" "),e("modal",{attrs:{dialogFormVisible:a.removeModalFlag},on:{modalToggle:a.modalChange}},[e("p",{staticStyle:{"text-align":"center","font-size":"20px"},attrs:{slot:"content"},slot:"content"},[a._v("\n            是否删除用户？\n        ")]),a._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:a.modalChange}},[a._v("取 消")]),a._v(" "),e("el-button",{attrs:{type:"danger"},on:{click:a.handleDelete}},[a._v("确 定")])],1)])],1)},staticRenderFns:[]},s=e("46Yf")(n,i,!1,null,null,null);t.default=s.exports}});
//# sourceMappingURL=16.ab0e89bdf57ccb835cbd.js.map